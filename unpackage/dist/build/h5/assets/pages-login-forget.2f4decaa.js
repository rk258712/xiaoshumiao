import{I as e,y as t,H as s,G as o,m as n,z as i,A as l,o as a,c as d,w as c,i as r,f as u,g as h,t as p,h as g,J as m,K as f}from"./index-dc4240aa.js";import{_ as w}from"./_plugin-vue_export-helper.1b428a4d.js";const _=w({data:()=>({phone:"",password:"",securityInput:!0,agreementChecked:!1,passwordLogin:!0,sending:!1,codetime:0}),onShow(){console.log("onShow for login")},methods:{onClickLeft(){e()},inputPhone(e){console.log(e.detail.value),this.phone=e.detail.value},inputPassword(e){console.log(e.detail.value),this.password=e.detail.value},login(){let n=this;0!=this.phone.length?0!=this.password.length?this.$request.post("/api/login/login",{type:2,mobile:this.phone,password:this.password}).then((t=>{let n=t.data.token,i=t.data.user;s(i),o(n),e()}),(function(e){t({title:e.msg,duration:2e3,icon:"none"})})):t({title:n.$t("login.passwordPleaseHolder"),duration:2e3,icon:"none"}):t({title:"请输入手机号",duration:2e3,icon:"none"})},forget(){n({url:"/pages/login/forget"})},regist(){n({url:"/pages/login/regist"})},changeSecurity(){this.securityInput=!this.securityInput},changeAgreementStatus(){this.agreementChecked=!this.agreementChecked},changeLoginType(){this.passwordLogin=!this.passwordLogin},sendPhoneCode(){if(this.codetime>0)return;if(0==this.phone.length)return void this.showToast("请输入手机号");i();let e=this;this.$request.post("/api/login/yzm",{phone:this.phone}).then((s=>{l(),t({title:e.$t("sendSuccessfully"),duration:2e3,icon:"none"}),e.countTime()}),(function(e){l(),t({title:e.msg,duration:2e3,icon:"none"})}))},countTime(){this.codetime=60;let e=setInterval((()=>{console.log("codetime:"+this.codetime),this.codetime--,this.codetime<1&&(clearInterval(e),this.codetime=0)}),1e3)},showToast(e){t({title:e,duration:2e3,icon:"none"})}},computed:{mailPleaseHodel(){return this.$t("login.mailboxNumberPleaseHolder")},passwordPleaseHodel(){return this.$t("login.passwordPleaseHolder")}}},[["render",function(e,t,s,o,n,i){const l=g,w=r,_=m,y=f;return a(),d(w,null,{default:c((()=>[u(w,{class:"lg"},{default:c((()=>[u(l,{style:{color:"#333333","font-size":"24px"}},{default:c((()=>[h("账号验证")])),_:1})])),_:1}),u(w,{class:"content-bg"},{default:c((()=>[u(w,{class:"input-content-bg"},{default:c((()=>[u(w,{class:"title"},{default:c((()=>[h("+86")])),_:1}),u(w,{class:"v-line"}),u(_,{class:"input",placeholder:"请输入手机号码",onInput:i.inputPhone},null,8,["onInput"])])),_:1}),u(w,{class:"input-content-bg"},{default:c((()=>[u(w,{class:"title"},{default:c((()=>[h("验证码")])),_:1}),u(w,{class:"v-line"}),u(_,{class:"input",placeholder:"请输入验证码",onInput:i.inputPassword},null,8,["onInput"]),0<n.codetime?(a(),d(y,{key:0,class:"send fix-width send-dis"},{default:c((()=>[h(p(n.codetime+"秒"),1)])),_:1})):(a(),d(y,{key:1,class:"send",onClick:i.sendPhoneCode},{default:c((()=>[h("获取验证码")])),_:1},8,["onClick"]))])),_:1}),u(w,{class:"login-btn"},{default:c((()=>[h("下一步")])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-9d5a538c"]]);export{_ as default};
