import{y as e,R as t,o as s,a,c as l,w as n,d as o,F as i,i as r,f as c,g as m,t as d,q as u,h as f,v as p,W as x,p as g}from"./index-dc4240aa.js";import{_}from"./uni-rate.5a11a2c1.js";import{r as h}from"./uni-app.es.3b71752e.js";import{_ as y}from"./_plugin-vue_export-helper.1b428a4d.js";import"./uni-icons.27c1c678.js";const v=y({data:()=>({star:0,text:"",courseData:null,comment:null,isDelete:!1}),onLoad(e){let t=JSON.parse(decodeURIComponent(e.data));this.courseData=t,this.getComment()},methods:{getComment(){let t=this;this.$request.get("/api/course/comment",{courseId:t.courseData.id}).then((e=>{t.comment=e.data,t.star=e.data.stars,t.text=e.data.content}),(function(t){e({title:t.msg,duration:2e3,icon:"none"})}))},deleteComment(){let e=this;t({confirmText:"删除",confirmColor:"#70CAA3",title:"温馨提示",content:"评价删除后不可恢复，确认删除该评价吗?",success:function(t){t.confirm&&e.deleteAction()}})},deleteAction(){let t=this;this.$request.get("/api/course/del_comment",{id:t.comment.id}).then((e=>{t.isDelete=!0}),(function(t){e({title:t.msg,duration:2e3,icon:"none"})}))}}},[["render",function(e,t,y,v,C,D){const b=r,j=h(u("uni-rate"),_),k=f,A=p("van-divider"),q=x,w=g;return s(),a(i,null,[null==C.comment||C.isDelete?o("",!0):(s(),l(b,{key:0},{default:n((()=>[c(b,{class:"star-bg"},{default:n((()=>[c(b,{class:"d-flex align-items-center"},{default:n((()=>[c(b,null,{default:n((()=>[m("课程评分")])),_:1}),c(j,{class:"rete","is-fill":!1,size:25,readonly:!0,max:5,value:C.star,color:"rgb(252,155,9)","active-color":"rgb(252,155,9)"},null,8,["value"])])),_:1}),c(k,{class:"star-text"},{default:n((()=>[m(d(C.star.toFixed(1)),1),c(k,{class:"star-suffix"},{default:n((()=>[m("分")])),_:1})])),_:1})])),_:1}),c(b,{class:"uni-textarea"},{default:n((()=>[c(b,{class:"comment-title"},{default:n((()=>[m("评价详情")])),_:1}),c(A,{style:{margin:"0px","margin-bottom":"15px"}}),c(q,{style:{width:"100%"},value:C.text,disabled:!0,maxlength:"250",placeholder:"请输入您的评价"},null,8,["value"])])),_:1}),c(b,{onClick:D.deleteComment,class:"comment-bg"},{default:n((()=>[m("删除评价")])),_:1},8,["onClick"])])),_:1})),C.isDelete?(s(),l(b,{key:1,style:{display:"flex","justify-content":"center","margin-top":"40px","flex-direction":"column","align-items":"center"}},{default:n((()=>[c(w,{style:{width:"170px",height:"100px"},src:"/assets/empty_comment-6ff8e154.png"}),c(k,{style:{color:"#969799","font-size":"14px","margin-top":"16px"}},{default:n((()=>[m("评价已删除")])),_:1})])),_:1})):o("",!0)],64)}],["__scopeId","data-v-2f0e64d9"]]);export{v as default};
