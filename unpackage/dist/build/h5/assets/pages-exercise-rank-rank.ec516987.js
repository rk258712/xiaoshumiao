import{k as t,I as s,o as e,c as a,w as l,i as n,f as i,g as o,t as r,a as u,b as c,F as d,v as f,q as m,h,e as p,p as k}from"./index-dc4240aa.js";import{_}from"./fui-tabs.c922ba75.js";import{r as g}from"./uni-app.es.3b71752e.js";import{_ as y}from"./uni-nav-bar.f89a8f7c.js";import{_ as b,a as x}from"./uni-list.2a5d4a77.js";import{_ as R}from"./nav_trophy.3e0b2a9c.js";import{_ as C}from"./_plugin-vue_export-helper.1b428a4d.js";import"./uni-icons.27c1c678.js";const j=C({data:()=>({titles:["刷题排行","试卷套数排行"],questionRanks:[],examRanks:[],type:1,user:null}),onLoad(){this.getUserTop(1),this.user=t()},methods:{onClickLeft(){s()},getUserTop(t){let s=this;this.$request.get("/api/topic/user_topic",{type:t}).then((e=>{1==t&&(s.questionRanks=e.data),2==t&&(s.examRanks=e.data)}),(function(t){}))},onClickTab(t){this.type=t.index+1,1==this.type&&0==this.questionRanks.length&&this.getUserTop(1),2==this.type&&0==this.examRanks.length&&this.getUserTop(2)}},computed:{myRank(){let t=this;return function(){let s=1==t.type?t.questionRanks:t.examRanks;if(0==s.length||null==t.user)return"未排名";for(var e=0;e<s.length;e++){if(s[e].uid==t.user.id){let t=e+1;return 100<t?"99+":t}}return"未排名"}},list(){return 1==this.type?this.questionRanks:this.examRanks}}},[["render",function(t,s,C,j,q,v){const T=f("van-icon"),w=g(m("fui-tabs"),_),z=n,U=g(m("uni-nav-bar"),y),L=h,A=k,F=g(m("uni-list-item"),b),I=g(m("uni-list"),x);return e(),a(z,null,{default:l((()=>[i(U,{statusBar:"",fixed:!0,border:!1,"left-width":"50px","right-width":"50px"},{left:l((()=>[i(T,{onClick:v.onClickLeft,name:"arrow-left",size:"22",color:"#333"},null,8,["onClick"])])),default:l((()=>[i(z,{class:"title"},{default:l((()=>[i(w,{tabs:q.titles,scroll:"",height:64,center:!0,short:!1,fontWeight:"bold",selectedFontWeight:"bold",color:"#333333","selected-color":"#333333",size:"28","selected-size":"28","slider-background":"#70CAA3",scale:"1.0",onChange:v.onClickTab},null,8,["tabs","onChange"])])),_:1})])),_:1}),i(z,{class:"section-header"},{default:l((()=>[i(z,{class:"my-rank-bg"},{default:l((()=>[i(L,{class:"my-rank-title"},{default:l((()=>[o("我的排名")])),_:1}),i(z,{class:"my-rank-num"},{default:l((()=>[o(r(v.myRank()),1)])),_:1})])),_:1}),i(z,{class:"list-title"},{default:l((()=>[i(L,null,{default:l((()=>[o("排名")])),_:1}),i(L,null,{default:l((()=>[o(r(1==q.type?"答对题数":"试卷套数"),1)])),_:1})])),_:1})])),_:1}),i(I,null,{default:l((()=>[(e(!0),u(d,null,c(v.list,((t,s)=>(e(),a(F,{class:"item"},{body:l((()=>[i(z,{class:"item-body"},{default:l((()=>[i(z,{class:"item-body-left"},{default:l((()=>[0==s?(e(),a(A,{key:0,class:"item-icon-no-1",src:R})):(e(),a(z,{key:1,class:p(["item-rank",{"rank-color-1":1==s,"rank-color-2":2==s,"rank-color-other":1!=s&&2!=s}])},{default:l((()=>[o(r(s+1),1)])),_:2},1032,["class"])),i(z,{class:"item-username"},{default:l((()=>[o(r(t.username),1)])),_:2},1024)])),_:2},1024),i(z,{class:"item-count"},{default:l((()=>[o(r(t.counts),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),256))])),_:1})])),_:1})}],["__scopeId","data-v-b436fa44"]]);export{j as default};
